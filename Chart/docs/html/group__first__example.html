<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WeaChart: Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WeaChart
   &#160;<span id="projectnumber">1.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Example</div>  </div>
</div><!--header-->
<div class="contents">

<p>Here is the how to handle the data of each series and update it to the chart.  
<a href="#details">More...</a></p>
<p>Here is the how to handle the data of each series and update it to the chart. </p>
<p>datasource.h </p><div class="fragment"><div class="line"><span class="preprocessor">#ifndef DATASOURCE_H</span></div><div class="line"><span class="preprocessor">#define DATASOURCE_H</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="GLSeriesStorage_8h.html">WeaChart/series/GLSeriesStorage.h</a>&quot;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;QThread&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;QBasicTimer&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Required if you want to pass a custom point struct on your series (GLSeriesStorage&lt;T&gt;).</span></div><div class="line"><span class="keyword">struct </span>PointSeries1 : <span class="keyword">public</span> <a class="code" href="structPointXYBase.html">PointXYBase</a> {</div><div class="line">    <span class="keyword">using</span> <a class="code" href="structPointXYBase.html#a60702ff78ceed0a5053597d39a7baa8b">PointXYBase::PointXYBase</a>;</div><div class="line">    QString type = <span class="stringliteral">&quot;typeSeries1&quot;</span>;</div><div class="line">    <span class="comment">//    const char* type =  &quot;MyTypeID&quot;;</span></div><div class="line">    <span class="keywordtype">double</span> az = 12.7;</div><div class="line">    <span class="keywordtype">double</span> elv = 178.77;</div><div class="line">    <span class="keywordtype">int</span> otherData = 3;</div><div class="line">    PointSeries1(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y,</div><div class="line">                 <span class="keywordtype">float</span> r, <span class="keywordtype">float</span> g, <span class="keywordtype">float</span> b, <span class="keywordtype">float</span> a,</div><div class="line">                 <span class="keywordtype">double</span> az, <span class="keywordtype">double</span> elv, <span class="keywordtype">int</span> otherData,</div><div class="line">                 <span class="keyword">const</span> QString &amp;type)</div><div class="line">        :</div><div class="line">        <a class="code" href="structPointXYBase.html">PointXYBase</a>{<a class="code" href="structPointXYBase.html#ad50d540050c071c51d20904bbb0f990b">x</a>, <a class="code" href="structPointXYBase.html#a4bef188bfc896793e36b0fcc904e8196">y</a>, r, g, b, a},</div><div class="line">        az(az), elv(elv), otherData(otherData),</div><div class="line">        type(type)</div><div class="line"></div><div class="line">    {</div><div class="line"></div><div class="line">    }</div><div class="line">    QString <a class="code" href="structPointXYBase.html#aaf6fe3fa478431906dde8b3f1d55cea8">name</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;PointSeries1&quot;</span>; }</div><div class="line">};</div><div class="line">Q_DECLARE_METATYPE(PointSeries1) <span class="comment">// Also Required</span></div><div class="line">Q_DECLARE_METATYPE(QVector&lt;PointSeries1&gt;) <span class="comment">// Also Required</span></div><div class="line"></div><div class="line"><span class="comment">// Required if you want to pass a custom point struct on your series (GLSeriesStorage&lt;T&gt;).</span></div><div class="line"><span class="keyword">struct </span>PointSeries2 : <span class="keyword">public</span> <a class="code" href="structPointXYBase.html">PointXYBase</a> {</div><div class="line">    <span class="keyword">using</span> <a class="code" href="structPointXYBase.html#a60702ff78ceed0a5053597d39a7baa8b">PointXYBase::PointXYBase</a>;</div><div class="line">    <span class="keyword">enum</span> TypeEnum {</div><div class="line">        TypeNumber1 = 0,</div><div class="line">        TypeNumber2</div><div class="line">    };</div><div class="line">    TypeEnum typeEnum = TypeNumber2;</div><div class="line"></div><div class="line">    PointSeries2(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y,</div><div class="line">                 <span class="keywordtype">float</span> r, <span class="keywordtype">float</span> g, <span class="keywordtype">float</span> b, <span class="keywordtype">float</span> a,</div><div class="line">                 TypeEnum typeEnum)</div><div class="line">        :</div><div class="line">        <a class="code" href="structPointXYBase.html">PointXYBase</a>{<a class="code" href="structPointXYBase.html#ad50d540050c071c51d20904bbb0f990b">x</a>, <a class="code" href="structPointXYBase.html#a4bef188bfc896793e36b0fcc904e8196">y</a>, r, g, b, a},</div><div class="line">        typeEnum(typeEnum)</div><div class="line">    {</div><div class="line"></div><div class="line">    }</div><div class="line"></div><div class="line">    QString getTypeEnumString()<span class="keyword"> const </span>{</div><div class="line">        <span class="keywordflow">switch</span> (typeEnum) {</div><div class="line">        <span class="keywordflow">case</span> TypeNumber1:</div><div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;TypeNumber1&quot;</span>;</div><div class="line">        <span class="keywordflow">case</span> TypeNumber2:</div><div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;TypeNumber2&quot;</span>;</div><div class="line">        <span class="keywordflow">default</span>:</div><div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Invalid typeEnum&quot;</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    QString <a class="code" href="structPointXYBase.html#aaf6fe3fa478431906dde8b3f1d55cea8">name</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;PointSeries2&quot;</span>; }</div><div class="line">};</div><div class="line">Q_DECLARE_METATYPE(PointSeries2) <span class="comment">// Also Required</span></div><div class="line">Q_DECLARE_METATYPE(QVector&lt;PointSeries2&gt;) <span class="comment">// Also Required</span></div><div class="line"></div><div class="line"><span class="keyword">class </span>DataSource : <span class="keyword">public</span> QObject</div><div class="line">{</div><div class="line">    Q_OBJECT</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    DataSource(QObject *parent = <span class="keyword">nullptr</span>);</div><div class="line">    ~DataSource();</div><div class="line"></div><div class="line">signals:</div><div class="line"></div><div class="line"><span class="keyword">public</span> slots:</div><div class="line">    <span class="keywordtype">void</span> generateData(); <span class="comment">// This method is an example test method, isn&#39;t required on your application.</span></div><div class="line">    <span class="keywordtype">void</span> updateAllSeries();</div><div class="line"></div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <span class="keywordtype">void</span> makeConnenction();</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> timerEvent(QTimerEvent *event) <span class="keyword">override</span>;</div><div class="line"></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <a class="code" href="classGLSeriesStorage.html">GLSeriesStorage&lt;PointXYBase&gt;</a> *series0 = <span class="keyword">nullptr</span>;</div><div class="line">    <a class="code" href="classGLSeriesStorage.html">GLSeriesStorage&lt;PointSeries1&gt;</a> *series1 = <span class="keyword">nullptr</span>;</div><div class="line">    <a class="code" href="classGLSeriesStorage.html">GLSeriesStorage&lt;PointSeries2&gt;</a> *series2 = <span class="keyword">nullptr</span>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="comment">// Test Data only for generating</span></div><div class="line">    QVector&lt;QVector&lt;PointXYBase&gt;&gt; m_seriesData0; <span class="comment">// Row, column</span></div><div class="line">    QVector&lt;QVector&lt;PointSeries1&gt;&gt; m_seriesData1; <span class="comment">// Row, column</span></div><div class="line">    QVector&lt;QVector&lt;PointSeries2&gt;&gt; m_seriesData2; <span class="comment">// Row, column</span></div><div class="line">    <span class="keywordtype">int</span> m_index = 0;</div><div class="line">    <span class="keywordtype">bool</span> m_generated = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">    <span class="comment">// for updating data</span></div><div class="line">    QBasicTimer timer;</div><div class="line">    QThread thread;</div><div class="line"></div><div class="line">};</div><div class="line"></div><div class="line"><span class="preprocessor">#endif // DATASOURCE_H</span></div></div><!-- fragment --><p> datasource.cpp </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;datasource.h&quot;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;QElapsedTimer&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;QRandomGenerator&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;qmath.h&gt;</span></div><div class="line"></div><div class="line">DataSource::DataSource(QObject *parent)</div><div class="line">    : QObject{parent},</div><div class="line">    series0(<span class="keyword">new</span> <a class="code" href="classGLSeriesStorage.html">GLSeriesStorage&lt;PointXYBase&gt;</a>()),</div><div class="line">    series1(<span class="keyword">new</span> <a class="code" href="classGLSeriesStorage.html">GLSeriesStorage&lt;PointSeries1&gt;</a>()),</div><div class="line">    series2(<span class="keyword">new</span> <a class="code" href="classGLSeriesStorage.html">GLSeriesStorage&lt;PointSeries2&gt;</a>())</div><div class="line">{</div><div class="line">    <span class="comment">// Thread</span></div><div class="line">    this-&gt;moveToThread(&amp;thread);</div><div class="line">    connect(&amp;thread, &amp;QThread::started, <span class="keyword">this</span>, [=] () { timer.start(16, <span class="keyword">this</span>); });</div><div class="line">    connect(&amp;thread, &amp;QThread::started, <span class="keyword">this</span>, [=] () {</div><div class="line"><span class="comment">//        QElapsedTimer ep;</span></div><div class="line"><span class="comment">//        ep.start();</span></div><div class="line">        generateData();</div><div class="line"><span class="comment">//        qDebug() &lt;&lt; &quot;Elapsed Timer at generateData(): &quot;</span></div><div class="line"><span class="comment">//                 &lt;&lt; ep.elapsed()</span></div><div class="line"><span class="comment">//                 &lt;&lt; QThread::currentThreadId();</span></div><div class="line">    });</div><div class="line">    connect(&amp;thread, &amp;QThread::finished, <span class="keyword">this</span>, [=] () { timer.stop(); });</div><div class="line">    connect(<span class="keyword">this</span>, &amp;DataSource::destroyed, &amp;thread, [=]() { timer.stop(); thread.quit(); thread.wait(); });</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">// Connections</span></div><div class="line">    makeConnenction();</div><div class="line"></div><div class="line">    <span class="comment">// Sample Triangle for series0 on initialize</span></div><div class="line">    series0-&gt;append(<a class="code" href="structPointXYBase.html">PointXYBase</a>{50.0f, 50.0f, 255, 0, 0, 1.0});</div><div class="line">    series0-&gt;append(<a class="code" href="structPointXYBase.html">PointXYBase</a>{40.0f, 25.0f, 0, 255, 0, 1.0});</div><div class="line">    series0-&gt;append(<a class="code" href="structPointXYBase.html">PointXYBase</a>{60.0f, 25.0f, 0, 0, 255, 1.0});</div><div class="line">    series0-&gt;append(<a class="code" href="structPointXYBase.html">PointXYBase</a>{50.0f, 50.0f, 255, 0, 0, 1.0});</div><div class="line"></div><div class="line">    <span class="comment">// Sample Triangle for series1 on initialize</span></div><div class="line">    series1-&gt;append(PointSeries1{100.0f, 50.0f, 255, 0, 0, 1.0});</div><div class="line">    series1-&gt;append(PointSeries1{90.0f, 25.0f, 0, 255, 0, 1.0});</div><div class="line">    series1-&gt;append(PointSeries1{110.0f, 25.0f, 0, 0, 255, 1.0});</div><div class="line">    series1-&gt;append(PointSeries1{100, 50.0f, 255, 0, 0, 1.0});</div><div class="line"></div><div class="line">    <span class="comment">// Sample Triangle for series2 on initialize</span></div><div class="line">    series2-&gt;append(PointSeries2{50.0f, 100.0f, 255, 0, 0, 1.0});</div><div class="line">    series2-&gt;append(PointSeries2{40.0f, 75.0f, 0, 255, 0, 1.0});</div><div class="line">    series2-&gt;append(PointSeries2{60.0f, 75.0f, 0, 0, 255, 1.0});</div><div class="line">    series2-&gt;append(PointSeries2{50.0f, 100.0f, 255, 0, 0, 1.0});</div><div class="line"></div><div class="line">    thread.start();</div><div class="line">}</div><div class="line"></div><div class="line">DataSource::~DataSource()</div><div class="line">{</div><div class="line">    thread.quit();</div><div class="line">    thread.wait();</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> DataSource::generateData()</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (m_generated) <span class="keywordflow">return</span>;</div><div class="line">    constexpr <span class="keywordtype">int</span> ROW = 5;</div><div class="line">    constexpr <span class="keywordtype">int</span> SERIES0_TOTAL_COUNT = 200<span class="stringliteral">&#39;000;</span></div><div class="line"><span class="stringliteral">    constexpr int SERIES1_TOTAL_COUNT = 200&#39;</span>000;</div><div class="line">    constexpr <span class="keywordtype">int</span> SERIES2_TOTAL_COUNT = 200<span class="stringliteral">&#39;000;</span></div><div class="line"><span class="stringliteral">    constexpr int SERIES0_Y_OFFSET = 0;</span></div><div class="line"><span class="stringliteral">    constexpr int SERIES1_Y_OFFSET = 10;</span></div><div class="line"><span class="stringliteral">    constexpr int SERIES2_Y_OFFSET = 20;</span></div><div class="line"><span class="stringliteral">    // Series 0 Data</span></div><div class="line"><span class="stringliteral">    m_seriesData0.reserve(ROW);</span></div><div class="line"><span class="stringliteral">    for (int i(0); i &lt; ROW; ++i) {</span></div><div class="line"><span class="stringliteral">        QVector&lt;PointXYBase&gt; points;</span></div><div class="line"><span class="stringliteral">        points.reserve(SERIES0_TOTAL_COUNT);</span></div><div class="line"><span class="stringliteral">        for (int j(0); j &lt; SERIES0_TOTAL_COUNT; ++j) {</span></div><div class="line"><span class="stringliteral">            float x(0.0f), y(SERIES0_Y_OFFSET);</span></div><div class="line"><span class="stringliteral">            x = j;</span></div><div class="line"><span class="stringliteral">            y += qSin(M_PI / 50 * j) + 0.5 + QRandomGenerator::global()-&gt;generateDouble();</span></div><div class="line"><span class="stringliteral">            float r = static_cast&lt;float&gt;(QRandomGenerator::global()-&gt;bounded(1.0f));</span></div><div class="line"><span class="stringliteral">            float g = static_cast&lt;float&gt;(QRandomGenerator::global()-&gt;bounded(1.0f));</span></div><div class="line"><span class="stringliteral">            float b = static_cast&lt;float&gt;(QRandomGenerator::global()-&gt;bounded(1.0f));</span></div><div class="line"><span class="stringliteral">            float a = static_cast&lt;float&gt;(QRandomGenerator::global()-&gt;bounded(1.0f));</span></div><div class="line"><span class="stringliteral">            points.append({x, y, r, g, b, a});</span></div><div class="line"><span class="stringliteral">        }</span></div><div class="line"><span class="stringliteral">        m_seriesData0.append(points);</span></div><div class="line"><span class="stringliteral">    }</span></div><div class="line"><span class="stringliteral">    // Series 1 Data</span></div><div class="line"><span class="stringliteral">    m_seriesData1.reserve(ROW);</span></div><div class="line"><span class="stringliteral">    for (int i(0); i &lt; ROW; ++i) {</span></div><div class="line"><span class="stringliteral">        QVector&lt;PointSeries1&gt; points;</span></div><div class="line"><span class="stringliteral">        points.reserve(SERIES1_TOTAL_COUNT);</span></div><div class="line"><span class="stringliteral">        for (int j(0); j &lt; SERIES1_TOTAL_COUNT; ++j) {</span></div><div class="line"><span class="stringliteral">            float x(0.0f), y(SERIES1_Y_OFFSET);</span></div><div class="line"><span class="stringliteral">            x = j;</span></div><div class="line"><span class="stringliteral">            y += qSin(M_PI / 50 * j) + 0.5 + QRandomGenerator::global()-&gt;generateDouble();</span></div><div class="line"><span class="stringliteral">            float r = static_cast&lt;float&gt;(QRandomGenerator::global()-&gt;bounded(1.0f));</span></div><div class="line"><span class="stringliteral">            float g = static_cast&lt;float&gt;(QRandomGenerator::global()-&gt;bounded(1.0f));</span></div><div class="line"><span class="stringliteral">            float b = static_cast&lt;float&gt;(QRandomGenerator::global()-&gt;bounded(1.0f));</span></div><div class="line"><span class="stringliteral">            float a = static_cast&lt;float&gt;(QRandomGenerator::global()-&gt;bounded(1.0f));</span></div><div class="line"><span class="stringliteral">            double az = i * j;</span></div><div class="line"><span class="stringliteral">            double elv = j * y * 0.01;</span></div><div class="line"><span class="stringliteral">            int otherData = i;</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">            points.append({x, y, r, g, b, a, az, elv, otherData, &quot;TypeSeries1&quot;});</span></div><div class="line"><span class="stringliteral">//            points.append({x, y, r, g, b, a});</span></div><div class="line"><span class="stringliteral">        }</span></div><div class="line"><span class="stringliteral">        m_seriesData1.append(points);</span></div><div class="line"><span class="stringliteral">    }</span></div><div class="line"><span class="stringliteral">    // Series 2 Data</span></div><div class="line"><span class="stringliteral">    m_seriesData2.reserve(ROW);</span></div><div class="line"><span class="stringliteral">    for (int i(0); i &lt; ROW; ++i) {</span></div><div class="line"><span class="stringliteral">        QVector&lt;PointSeries2&gt; points;</span></div><div class="line"><span class="stringliteral">        points.reserve(SERIES2_TOTAL_COUNT);</span></div><div class="line"><span class="stringliteral">        for (int j(0); j &lt; SERIES2_TOTAL_COUNT; ++j) {</span></div><div class="line"><span class="stringliteral">            float x(0.0f), y(SERIES2_Y_OFFSET);</span></div><div class="line"><span class="stringliteral">            x = j;</span></div><div class="line"><span class="stringliteral">            y += qSin(M_PI / 50 * j) + 0.5 + QRandomGenerator::global()-&gt;generateDouble();</span></div><div class="line"><span class="stringliteral">            float r = static_cast&lt;float&gt;(QRandomGenerator::global()-&gt;bounded(1.0f));</span></div><div class="line"><span class="stringliteral">            float g = static_cast&lt;float&gt;(QRandomGenerator::global()-&gt;bounded(1.0f));</span></div><div class="line"><span class="stringliteral">            float b = static_cast&lt;float&gt;(QRandomGenerator::global()-&gt;bounded(1.0f));</span></div><div class="line"><span class="stringliteral">            float a = static_cast&lt;float&gt;(QRandomGenerator::global()-&gt;bounded(1.0f));</span></div><div class="line"><span class="stringliteral">            PointSeries2::TypeEnum typeEnum = j % 2 == 0 ? PointSeries2::TypeNumber1 : PointSeries2::TypeNumber2;</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">            points.append({x, y, r, g, b, a, typeEnum});</span></div><div class="line"><span class="stringliteral">//            points.append({x,y, r, g, b, a});</span></div><div class="line"><span class="stringliteral">        }</span></div><div class="line"><span class="stringliteral">        m_seriesData2.append(points);</span></div><div class="line"><span class="stringliteral">    }</span></div><div class="line"><span class="stringliteral">    m_generated = true;</span></div><div class="line"><span class="stringliteral">}</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">void DataSource::updateAllSeries()</span></div><div class="line"><span class="stringliteral">{</span></div><div class="line"><span class="stringliteral">    // Assigning Data</span></div><div class="line"><span class="stringliteral">    series0-&gt;replace(m_seriesData0.at(m_index));</span></div><div class="line"><span class="stringliteral">    series1-&gt;replace(m_seriesData1.at(m_index));</span></div><div class="line"><span class="stringliteral">    series2-&gt;replace(m_seriesData2.at(m_index));</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">    // Request to update all series on chartView</span></div><div class="line"><span class="stringliteral">    series0-&gt;requestUpdateSeriesData();</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">    // Updating index</span></div><div class="line"><span class="stringliteral">    m_index++;</span></div><div class="line"><span class="stringliteral">    if (m_index &gt;= m_seriesData0.size() ||</span></div><div class="line"><span class="stringliteral">        m_index &gt;= m_seriesData1.size() ||</span></div><div class="line"><span class="stringliteral">        m_index &gt;= m_seriesData2.size())</span></div><div class="line"><span class="stringliteral">        m_index = 0;</span></div><div class="line"><span class="stringliteral">}</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">void DataSource::makeConnenction()</span></div><div class="line"><span class="stringliteral">{</span></div><div class="line"><span class="stringliteral">    // Series0 Select Signal</span></div><div class="line"><span class="stringliteral">    connect(series0, &amp;GLAbstractSeries::selected, this, [](const QVariant &amp;payload, int typeId) {</span></div><div class="line"><span class="stringliteral">        const QVector&lt;PointXYBase&gt; selectedPoint = payload.value&lt;QVector&lt;PointXYBase&gt;&gt;();</span></div><div class="line"><span class="stringliteral">        // Your selecting process...</span></div><div class="line"><span class="stringliteral">        for (auto &amp;point : selectedPoint) {</span></div><div class="line"><span class="stringliteral">            qDebug() &lt;&lt; &quot;Series0 point: &quot; &lt;&lt; point.name() &lt;&lt; point.x() &lt;&lt; point.y() &lt;&lt; point.rgba();</span></div><div class="line"><span class="stringliteral">        }</span></div><div class="line"><span class="stringliteral">    });</span></div><div class="line"><span class="stringliteral">    // Series1 Select Signal</span></div><div class="line"><span class="stringliteral">    connect(series1, &amp;GLAbstractSeries::selected, this, [](const QVariant &amp;payload, int typeId) {</span></div><div class="line"><span class="stringliteral">        const QVector&lt;PointSeries1&gt; selectedPoint = payload.value&lt;QVector&lt;PointSeries1&gt;&gt;();</span></div><div class="line"><span class="stringliteral">        // Your selecting process...</span></div><div class="line"><span class="stringliteral">        for (auto &amp;point : selectedPoint) {</span></div><div class="line"><span class="stringliteral">            qDebug() &lt;&lt; &quot;Series1 point: &quot; &lt;&lt; point.name() &lt;&lt; point.x() &lt;&lt; point.y() &lt;&lt; point.rgba()</span></div><div class="line"><span class="stringliteral">                     &lt;&lt; point.type &lt;&lt; point.az &lt;&lt; point.otherData; // Non-PointXYBase fields</span></div><div class="line"><span class="stringliteral">        }</span></div><div class="line"><span class="stringliteral">    });</span></div><div class="line"><span class="stringliteral">    // Series2 Select Signal</span></div><div class="line"><span class="stringliteral">    connect(series2, &amp;GLAbstractSeries::selected, this, [](const QVariant &amp;payload, int typeId) {</span></div><div class="line"><span class="stringliteral">        const QVector&lt;PointSeries2&gt; selectedPoint = payload.value&lt;QVector&lt;PointSeries2&gt;&gt;();</span></div><div class="line"><span class="stringliteral">        // Your selecting process...</span></div><div class="line"><span class="stringliteral">        for (const PointSeries2 &amp;point : selectedPoint) {</span></div><div class="line"><span class="stringliteral">            qDebug() &lt;&lt; &quot;Series2 point: &quot; &lt;&lt; point.name() &lt;&lt; point.x() &lt;&lt; point.y() &lt;&lt; point.rgba()</span></div><div class="line"><span class="stringliteral">                     &lt;&lt; point.getTypeEnumString(); // Non-PointXYBase fields</span></div><div class="line"><span class="stringliteral">        }</span></div><div class="line"><span class="stringliteral">    });</span></div><div class="line"><span class="stringliteral">}</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">void DataSource::timerEvent(QTimerEvent *event)</span></div><div class="line"><span class="stringliteral">{</span></div><div class="line"><span class="stringliteral">    if (event-&gt;timerId() == timer.timerId()) {</span></div><div class="line"><span class="stringliteral">//        QElapsedTimer ep;</span></div><div class="line"><span class="stringliteral">//        ep.start();</span></div><div class="line"><span class="stringliteral">        updateAllSeries();</span></div><div class="line"><span class="stringliteral">//        qDebug() &lt;&lt; &quot;Elapsed Timer on updateAllSeries(): &quot; &lt;&lt; ep.elapsed();</span></div><div class="line"><span class="stringliteral">    }</span></div><div class="line"><span class="stringliteral">}</span></div></div><!-- fragment --><p> main.qml </p><div class="fragment"><div class="line">import QtQuick.Controls 2.12</div><div class="line">import QtQuick.Window 2.12</div><div class="line">import QtQuick.Layouts 1.12</div><div class="line">import QtQuick 2.12</div><div class="line">import QtGraphicalEffects 1.12</div><div class="line">import QtQuick.Dialogs 1.3</div><div class="line"></div><div class="line">import CustomItems 1.0</div><div class="line">import com.wearily.WeaChart 1.0</div><div class="line">import &quot;qrc:/qml&quot; // Importing WeaChart resources.qrc/qml prefix .</div><div class="line"></div><div class="line">Window {</div><div class="line">    id: root</div><div class="line">    title: &quot;Chart Window&quot;</div><div class="line">    width: 1600</div><div class="line">    height: 850</div><div class="line">    visible: true</div><div class="line"></div><div class="line">    RowLayout {</div><div class="line">        anchors.fill: parent</div><div class="line">        spacing: 10</div><div class="line">        Rectangle {</div><div class="line">            Layout.fillWidth: true</div><div class="line">            Layout.fillHeight: true</div><div class="line">            Layout.margins: 5</div><div class="line">            RowLayout {</div><div class="line">                anchors.fill: parent</div><div class="line">                spacing: 10</div><div class="line">                GroupBox {</div><div class="line">                    Layout.fillHeight: true</div><div class="line">                    //                    Layout.fillWidth: true</div><div class="line">                    //                    Layout.alignment: Qt.AlignTop</div><div class="line">                    id: gbControls</div><div class="line">                    title: &quot;Controls&quot;</div><div class="line">                    ColumnLayout {</div><div class="line">                        anchors.fill: parent</div><div class="line">                        Layout.margins: 7</div><div class="line">                        spacing: 15</div><div class="line">                        GroupBox {</div><div class="line">                            title: &quot;Chart Style&quot;</div><div class="line">                            Layout.fillWidth: true</div><div class="line">                            ColumnLayout {</div><div class="line">                                anchors.fill: parent</div><div class="line">                                spacing: 20</div><div class="line">                                RowLayout {</div><div class="line">                                    Layout.fillWidth: true</div><div class="line">                                    spacing: 3</div><div class="line">                                    Button {</div><div class="line">                                        id: btnColorDialog</div><div class="line">                                        text: &quot;Background Color&quot;</div><div class="line">                                        font.pointSize: 9</div><div class="line">                                        onClicked: {</div><div class="line">                                            colorDialog.open()</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        ColorDialog {</div><div class="line">                                            id: colorDialog</div><div class="line">                                            modality: Qt.WindowModal</div><div class="line">                                            showAlphaChannel: true</div><div class="line">                                            currentColor: &quot;#00171f&quot;</div><div class="line">                                        }</div><div class="line">                                    }</div><div class="line">                                    CheckBox {</div><div class="line">                                        id: cbUseGrid</div><div class="line">                                        text: &quot;Use Grid: &quot; + qsTr(state)</div><div class="line">                                        font.pointSize: 9</div><div class="line">                                        checked: true</div><div class="line"></div><div class="line">                                    }</div><div class="line">                                    CheckBox {</div><div class="line">                                        id: cbToolTip</div><div class="line">                                        text: &quot;Use ToolTip&quot; + qsTr(state)</div><div class="line">                                        font.pointSize: 9</div><div class="line">                                        checked: false</div><div class="line"></div><div class="line">                                    }</div><div class="line">                                    Button {</div><div class="line">                                        id: btnColorMajorGrid</div><div class="line">                                        text: &quot;Major Grid Color&quot;</div><div class="line">                                        font.pointSize: 9</div><div class="line">                                        onClicked: {</div><div class="line">                                            colorDialogMajor.open()</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        ColorDialog {</div><div class="line">                                            id: colorDialogMajor</div><div class="line">                                            modality: Qt.WindowModal</div><div class="line">                                            showAlphaChannel: true</div><div class="line">                                            currentColor: &quot;#179998&quot;</div><div class="line">                                            //                                    currentAlpha: 3</div><div class="line">                                        }</div><div class="line">                                    }</div><div class="line">                                    Button {</div><div class="line">                                        id: btnColorMinorGrid</div><div class="line">                                        text: &quot;Minor Grid Color&quot;</div><div class="line">                                        font.pointSize: 9</div><div class="line">                                        onClicked: {</div><div class="line">                                            colorDialogMinor.open()</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        ColorDialog {</div><div class="line">                                            id: colorDialogMinor</div><div class="line">                                            modality: Qt.WindowModal</div><div class="line">                                            showAlphaChannel: true</div><div class="line">                                            currentColor: &quot;#023c32&quot;</div><div class="line">                                            //                                    currentAlpha: 0.3</div><div class="line">                                        }</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                }</div><div class="line"></div><div class="line">                                RowLayout {</div><div class="line">                                    Layout.fillWidth: true</div><div class="line">                                    spacing: 3</div><div class="line">                                    Label {</div><div class="line">                                        id: lblMajorHGridCnt</div><div class="line">                                        text: &quot;Major H Grids: &quot;</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                    SpinBox {</div><div class="line">                                        Layout.maximumHeight: 30</div><div class="line">                                        id: spinGridHMajor</div><div class="line">                                        from: -100 * 100</div><div class="line">                                        value: 10</div><div class="line">                                        to: 100 * 100</div><div class="line">                                        stepSize: 1</div><div class="line">                                        editable: true</div><div class="line"></div><div class="line">                                        property int decimals: 2</div><div class="line">                                        property real realValue: value / 100</div><div class="line"></div><div class="line">                                        validator: DoubleValidator {</div><div class="line">                                            bottom: Math.min(spinGridHMajor.from, spinGridHMajor.to)</div><div class="line">                                            top:  Math.max(spinGridHMajor.from, spinGridHMajor.to)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        textFromValue: function(value, locale) {</div><div class="line">                                            return Number(value / 100).toLocaleString(locale, &#39;f&#39;, spinGridHMajor.decimals)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        valueFromText: function(text, locale) {</div><div class="line">                                            return Number.fromLocaleString(locale, text) * 100</div><div class="line">                                        }</div><div class="line">                                    }</div><div class="line">                                    Item {</div><div class="line">                                        Layout.fillWidth: true</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                    Label {</div><div class="line">                                        id: lblMinorHGridCnt</div><div class="line">                                        text: &quot;Minor per Major&quot;</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                    SpinBox {</div><div class="line">                                        Layout.maximumHeight: 30</div><div class="line">                                        id: spinGridHMinor</div><div class="line">                                        from: -100 * 100</div><div class="line">                                        value: 5</div><div class="line">                                        to: 100 * 100</div><div class="line">                                        stepSize: 1</div><div class="line">                                        editable: true</div><div class="line"></div><div class="line">                                        property int decimals: 2</div><div class="line">                                        property real realValue: value / 100</div><div class="line"></div><div class="line">                                        validator: DoubleValidator {</div><div class="line">                                            bottom: Math.min(spinGridHMinor.from, spinGridHMinor.to)</div><div class="line">                                            top:  Math.max(spinGridHMinor.from, spinGridHMinor.to)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        textFromValue: function(value, locale) {</div><div class="line">                                            return Number(value / 100).toLocaleString(locale, &#39;f&#39;, spinGridHMinor.decimals)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        valueFromText: function(text, locale) {</div><div class="line">                                            return Number.fromLocaleString(locale, text) * 100</div><div class="line">                                        }</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                }</div><div class="line"></div><div class="line">                                RowLayout {</div><div class="line">                                    Layout.fillWidth: true</div><div class="line">                                    spacing: 3</div><div class="line">                                    Label {</div><div class="line">                                        id: lblMajorVGridCnt</div><div class="line">                                        text: &quot;Major V Grids: &quot;</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                    SpinBox {</div><div class="line">                                        Layout.maximumHeight: 30</div><div class="line">                                        id: spinGridVMajor</div><div class="line">                                        from: -100 * 100</div><div class="line">                                        value: 10</div><div class="line">                                        to: 100 * 100</div><div class="line">                                        stepSize: 1</div><div class="line">                                        editable: true</div><div class="line"></div><div class="line">                                        property int decimals: 2</div><div class="line">                                        property real realValue: value / 100</div><div class="line"></div><div class="line">                                        validator: DoubleValidator {</div><div class="line">                                            bottom: Math.min(spinGridVMajor.from, spinGridVMajor.to)</div><div class="line">                                            top:  Math.max(spinGridVMajor.from, spinGridVMajor.to)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        textFromValue: function(value, locale) {</div><div class="line">                                            return Number(value / 100).toLocaleString(locale, &#39;f&#39;, spinGridVMajor.decimals)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        valueFromText: function(text, locale) {</div><div class="line">                                            return Number.fromLocaleString(locale, text) * 100</div><div class="line"></div><div class="line">                                        }</div><div class="line">                                    }</div><div class="line">                                    Item {</div><div class="line">                                        Layout.fillWidth: true</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                    Label {</div><div class="line">                                        id: lblMinorVGridCnt</div><div class="line">                                        text: &quot;Minor V Grids: &quot;</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                    SpinBox {</div><div class="line">                                        Layout.maximumHeight: 30</div><div class="line">                                        id: spinGridVMinor</div><div class="line">                                        from: -100 * 100</div><div class="line">                                        value: 100</div><div class="line">                                        to: 100 * 100</div><div class="line">                                        stepSize: 100</div><div class="line">                                        editable: true</div><div class="line">                                        enabled: false</div><div class="line"></div><div class="line">                                        property int decimals: 2</div><div class="line">                                        property real realValue: value / 100</div><div class="line"></div><div class="line">                                        validator: DoubleValidator {</div><div class="line">                                            bottom: Math.min(spinGridVMinor.from, spinGridVMinor.to)</div><div class="line">                                            top:  Math.max(spinGridVMinor.from, spinGridVMinor.to)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        textFromValue: function(value, locale) {</div><div class="line">                                            return Number(value / 100).toLocaleString(locale, &#39;f&#39;, spinGridVMinor.decimals)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        valueFromText: function(text, locale) {</div><div class="line">                                            return Number.fromLocaleString(locale, text) * 100</div><div class="line">                                        }</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                }</div><div class="line"></div><div class="line">                                RowLayout {</div><div class="line">                                    Layout.fillWidth: true</div><div class="line">                                    spacing: 3</div><div class="line">                                    Label {</div><div class="line">                                        id: lblMinX</div><div class="line">                                        text: &quot;MinX: &quot;</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                    SpinBox {</div><div class="line">                                        Layout.maximumHeight: 30</div><div class="line">                                        id: spinMinX</div><div class="line">                                        from: -360 * 100</div><div class="line">                                        value: 0</div><div class="line">                                        to: 360 * 100</div><div class="line">                                        stepSize: 5</div><div class="line">                                        editable: true</div><div class="line"></div><div class="line">                                        property int decimals: 2</div><div class="line">                                        property real realValue: value / 100</div><div class="line"></div><div class="line">                                        validator: DoubleValidator {</div><div class="line">                                            bottom: Math.min(spinMinX.from, spinMinX.to)</div><div class="line">                                            top:  Math.max(spinMinX.from, spinMinX.to)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        textFromValue: function(value, locale) {</div><div class="line">                                            return Number(value / 100).toLocaleString(locale, &#39;f&#39;, spinMinX.decimals)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        valueFromText: function(text, locale) {</div><div class="line">                                            return Number.fromLocaleString(locale, text) * 100</div><div class="line">                                        }</div><div class="line">                                    }</div><div class="line">                                    Item {</div><div class="line">                                        Layout.fillWidth: true</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                    Label {</div><div class="line">                                        id: lblMaxX</div><div class="line">                                        text: &quot;MaxX: &quot;</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                    SpinBox {</div><div class="line">                                        Layout.maximumHeight: 30</div><div class="line">                                        id: spinMaxX</div><div class="line">                                        from: -360 * 100</div><div class="line">                                        value: 100</div><div class="line">                                        to: 1000 * 3000</div><div class="line">                                        stepSize: 5</div><div class="line">                                        editable: true</div><div class="line"></div><div class="line">                                        property int decimals: 2</div><div class="line">                                        property real realValue: value / 100</div><div class="line"></div><div class="line">                                        validator: DoubleValidator {</div><div class="line">                                            bottom: Math.min(spinMaxX.from, spinMaxX.to)</div><div class="line">                                            top:  Math.max(spinMaxX.from, spinMaxX.to)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        textFromValue: function(value, locale) {</div><div class="line">                                            return Number(value / 100).toLocaleString(locale, &#39;f&#39;, spinMaxX.decimals)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        valueFromText: function(text, locale) {</div><div class="line">                                            return Number.fromLocaleString(locale, text) * 100</div><div class="line">                                        }</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                }</div><div class="line"></div><div class="line">                                RowLayout {</div><div class="line">                                    Layout.fillWidth: true</div><div class="line">                                    spacing: 3</div><div class="line">                                    Label {</div><div class="line">                                        id: lblMinY</div><div class="line">                                        text: &quot;MinY: &quot;</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                    SpinBox {</div><div class="line">                                        Layout.maximumHeight: 30</div><div class="line">                                        id: spinMinY</div><div class="line">                                        from: -360 * 100</div><div class="line">                                        value: 0</div><div class="line">                                        to: 1000 * 3000</div><div class="line">                                        stepSize: 5</div><div class="line">                                        editable: true</div><div class="line"></div><div class="line">                                        property int decimals: 2</div><div class="line">                                        property real realValue: value / 100</div><div class="line"></div><div class="line">                                        validator: DoubleValidator {</div><div class="line">                                            bottom: Math.min(spinMinY.from, spinMinY.to)</div><div class="line">                                            top:  Math.max(spinMinY.from, spinMinY.to)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        textFromValue: function(value, locale) {</div><div class="line">                                            return Number(value / 100).toLocaleString(locale, &#39;f&#39;, spinMinY.decimals)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        valueFromText: function(text, locale) {</div><div class="line">                                            return Number.fromLocaleString(locale, text) * 100</div><div class="line">                                        }</div><div class="line">                                    }</div><div class="line">                                    Item {</div><div class="line">                                        Layout.fillWidth: true</div><div class="line">                                    }</div><div class="line">                                    Label {</div><div class="line">                                        id: lblMaxY</div><div class="line">                                        text: &quot;MaxY: &quot;</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                    SpinBox {</div><div class="line">                                        Layout.maximumHeight: 30</div><div class="line">                                        id: spinMaxY</div><div class="line">                                        from: -360 * 100</div><div class="line">                                        value: 100</div><div class="line">                                        to: 360 * 100</div><div class="line">                                        stepSize: 5</div><div class="line">                                        editable: true</div><div class="line"></div><div class="line">                                        property int decimals: 2</div><div class="line">                                        property real realValue: value / 100</div><div class="line"></div><div class="line">                                        validator: DoubleValidator {</div><div class="line">                                            bottom: Math.min(spinMaxY.from, spinMaxY.to)</div><div class="line">                                            top:  Math.max(spinMaxY.from, spinMaxY.to)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        textFromValue: function(value, locale) {</div><div class="line">                                            return Number(value / 100).toLocaleString(locale, &#39;f&#39;, spinMaxY.decimals)</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        valueFromText: function(text, locale) {</div><div class="line">                                            return Number.fromLocaleString(locale, text) * 100</div><div class="line">                                        }</div><div class="line">                                    }</div><div class="line">                                }</div><div class="line"></div><div class="line">                                RowLayout {</div><div class="line">                                    Layout.fillWidth: true</div><div class="line">                                    spacing: 3</div><div class="line">                                    ComboBox {</div><div class="line">                                        property int autoScalePolicy: GL.PolicyNone</div><div class="line">                                        id: cboxAutoScale</div><div class="line">                                        model: [&quot;PolicyNone&quot;,</div><div class="line">                                            &quot;PolicyTop&quot;,</div><div class="line">                                            &quot;PolicyBottom&quot;,</div><div class="line">                                            &quot;PolicyLeft&quot;,</div><div class="line">                                            &quot;PolicyRight&quot;,</div><div class="line">                                            &quot;PolicyHCenter&quot;,</div><div class="line">                                            &quot;PolicyVCenter&quot;,</div><div class="line">                                            &quot;PolicyCenter&quot;</div><div class="line">                                        ]</div><div class="line">                                        onCurrentValueChanged: {</div><div class="line">                                            if (currentValue === &quot;PolicyNone&quot;) {</div><div class="line">                                                autoScalePolicy = GL.PolicyNone</div><div class="line">                                            }</div><div class="line">                                            else if (currentValue === &quot;PolicyTop&quot;) {</div><div class="line">                                                autoScalePolicy = GL.PolicyTop</div><div class="line">                                            }</div><div class="line">                                            else if (currentValue === &quot;PolicyBottom&quot;) {</div><div class="line">                                                autoScalePolicy = GL.PolicyBottom</div><div class="line">                                            }</div><div class="line">                                            else if (currentValue === &quot;PolicyLeft&quot;) {</div><div class="line">                                                autoScalePolicy = GL.PolicyLeft</div><div class="line">                                            }</div><div class="line">                                            else if (currentValue === &quot;PolicyRight&quot;) {</div><div class="line">                                                autoScalePolicy = GL.PolicyRight</div><div class="line">                                            }</div><div class="line">                                            else if (currentValue === &quot;PolicyHCenter&quot;) {</div><div class="line">                                                autoScalePolicy = GL.PolicyHCenter</div><div class="line">                                            }</div><div class="line">                                            else if (currentValue === &quot;PolicyVCenter&quot;) {</div><div class="line">                                                autoScalePolicy = GL.PolicyVCenter</div><div class="line">                                            }</div><div class="line">                                            else if (currentValue === &quot;PolicyCenter&quot;) {</div><div class="line">                                                autoScalePolicy = GL.PolicyCenter</div><div class="line">                                            }</div><div class="line">                                        }</div><div class="line">                                    }</div><div class="line">                                    CheckBox {</div><div class="line">                                        id: cboxFitWindow</div><div class="line">                                        checked: true</div><div class="line">                                        text: &quot;Fit Window with Points&quot;</div><div class="line">                                    }</div><div class="line">                                }</div><div class="line">                            }</div><div class="line">                        }</div><div class="line"></div><div class="line">                        GroupBox {</div><div class="line">                            id: gbSeries</div><div class="line">                            title: &quot;Series Configuration&quot;</div><div class="line">                            font.pointSize: 10</div><div class="line">                            ColumnLayout {</div><div class="line">                                Layout.topMargin: 8</div><div class="line">                                Layout.bottomMargin: 8</div><div class="line">                                RowLayout {</div><div class="line">                                    Layout.fillHeight: true</div><div class="line">                                    Layout.fillWidth: true</div><div class="line">                                    spacing: 10</div><div class="line">                                    ComboBox {</div><div class="line">                                        id: cboxSeries</div><div class="line">                                        model: [&quot;Series 0&quot;, &quot;Series 1&quot;, &quot;Series 2&quot;]</div><div class="line">                                    }</div><div class="line">                                    CheckBox {</div><div class="line">                                        id: cbSeriesVisible</div><div class="line">                                        checked: true</div><div class="line">                                        text: &quot;Series visible: &quot;</div><div class="line">                                    }</div><div class="line">                                    ComboBox {</div><div class="line">                                        id: cboxSeriesType</div><div class="line">                                        model: [&quot;Scatter&quot;, &quot;Line&quot;, &quot;Area&quot;]</div><div class="line">                                    }</div><div class="line">                                    ComboBox {</div><div class="line">                                        id: cboxSeriesColorType</div><div class="line">                                        model: [&quot;MixColor&quot;, &quot;Only Base&quot;, &quot;Only Point&quot;]</div><div class="line">                                    }</div><div class="line">                                }</div><div class="line">                                RowLayout {</div><div class="line">                                    spacing: 10</div><div class="line">                                    Rectangle {</div><div class="line">                                        color: &quot;#cccccc&quot;</div><div class="line">                                        Layout.fillWidth: true</div><div class="line">                                        height: 50</div><div class="line">                                        TextEdit {</div><div class="line">                                            id: txtSeriesName</div><div class="line">                                            anchors.fill: parent</div><div class="line">                                            horizontalAlignment: TextEdit.AlignHCenter</div><div class="line">                                            verticalAlignment: TextEdit.AlignVCenter</div><div class="line">                                            text: &quot;Series Name example&quot;</div><div class="line">                                            font.bold: true</div><div class="line">                                        }</div><div class="line">                                    }</div><div class="line">                                    CheckBox {</div><div class="line">                                        id: cbSeriesSorted</div><div class="line">                                        checked: true</div><div class="line">                                        text: &quot;Series Data Sorted: &quot;</div><div class="line">                                    }</div><div class="line"></div><div class="line">                                    Button {</div><div class="line">                                        text: &quot;Series Color&quot;</div><div class="line">                                        font.pointSize: 9</div><div class="line">                                        onClicked: {</div><div class="line">                                            colorDialogSeries.open()</div><div class="line">                                        }</div><div class="line"></div><div class="line">                                        ColorDialog {</div><div class="line">                                            id: colorDialogSeries</div><div class="line">                                            modality: Qt.WindowModal</div><div class="line">                                            showAlphaChannel: true</div><div class="line">                                            currentColor: &quot;#023c32&quot;</div><div class="line">                                        }</div><div class="line">                                    }</div><div class="line">                                    SpinBox {</div><div class="line">                                        id: spSeriesMarkerSize</div><div class="line">                                        value: 10</div><div class="line">                                        from: 0</div><div class="line">                                        to: 100</div><div class="line">                                        stepSize: 1</div><div class="line">                                        editable: true</div><div class="line">                                    }</div><div class="line"></div><div class="line"></div><div class="line">                                }</div><div class="line">                                RowLayout {</div><div class="line">                                    spacing: 10</div><div class="line">                                    ComboBox {</div><div class="line">                                        Layout.fillWidth: true</div><div class="line">                                        id: cboxSeriesMarkerShape</div><div class="line">                                        model: [&quot;ShapeSquare&quot;, &quot;ShapeCircle&quot;, &quot;ShapeTexture&quot;]</div><div class="line">                                    }</div><div class="line">                                    ComboBox {</div><div class="line">                                        Layout.fillWidth: true</div><div class="line">                                        id: cboxSeriesIcon</div><div class="line">                                        model: [&quot;IconTargetPressed&quot;, &quot;IconUpHovered&quot;]</div><div class="line">                                    }</div><div class="line">                                    Button {</div><div class="line">                                        id: btnSeriesConfig</div><div class="line">                                        text: &quot;Update Series&quot;</div><div class="line">                                        font.pointSize: 10</div><div class="line">                                        highlighted: true</div><div class="line">                                        onClicked: gbSeries.updateSeries()</div><div class="line">                                    }</div><div class="line">                                }</div><div class="line"></div><div class="line">                            }</div><div class="line">                            function updateSeries() {</div><div class="line">                                let series = null</div><div class="line">                                if (cboxSeries.currentValue === &quot;Series 0&quot;) {</div><div class="line">                                    series = series0</div><div class="line">                                }</div><div class="line">                                else if (cboxSeries.currentValue === &quot;Series 1&quot;) {</div><div class="line">                                    series = series1</div><div class="line">                                }</div><div class="line">                                else if (cboxSeries.currentValue === &quot;Series 2&quot;) {</div><div class="line">                                    series = series2</div><div class="line">                                }</div><div class="line">                                series.visible = cbSeriesVisible.checked</div><div class="line">                                series.type = cboxSeriesType.currentIndex</div><div class="line">                                series.colorType = cboxSeriesColorType.currentIndex</div><div class="line">                                series.name = txtSeriesName.text</div><div class="line">                                series.color = colorDialogSeries.currentColor</div><div class="line">                                series.markerSize = spSeriesMarkerSize.value</div><div class="line">                                series.markerShape = cboxSeriesMarkerShape.currentIndex</div><div class="line">                                series.seriesXSorted = cbSeriesSorted.checked</div><div class="line">                                series.seriesYSorted = cbSeriesSorted.checked</div><div class="line">                                if (cboxSeriesIcon.currentValue === &quot;IconTargetPressed&quot;)</div><div class="line">                                    series.markerIconUrl = &quot;:/images/targetPressed.png&quot;</div><div class="line">                                else if (cboxSeriesIcon.currentValue === &quot;IconUpHovered&quot;)</div><div class="line">                                    series.markerIconUrl = &quot;qrc:/images/upHovered.png&quot;</div><div class="line"></div><div class="line"></div><div class="line">                            }</div><div class="line">                        }</div><div class="line"></div><div class="line">                        Item {</div><div class="line">                            Layout.fillHeight: true</div><div class="line">                        }</div><div class="line">                    }</div><div class="line">                }</div><div class="line"></div><div class="line">                GroupBox {</div><div class="line">                    Layout.fillHeight: true</div><div class="line">                    id: gbMonitor</div><div class="line">                    title: &quot;Monitor And Status&quot;</div><div class="line">                    ColumnLayout {</div><div class="line">                        anchors.fill: parent</div><div class="line">                        Label {</div><div class="line">                            Layout.alignment: Qt.AlignTop</div><div class="line">                            id: lblFps</div><div class="line">                            width: 75</div><div class="line">                            height: 75</div><div class="line">                            color: &quot;black&quot;</div><div class="line">                            font.pointSize: 11</div><div class="line">                            font.bold: true</div><div class="line">                            wrapMode: &quot;WordWrap&quot;</div><div class="line">                            text: &quot;FPS: &quot; + fpsItem.fps</div><div class="line">                            Fps {</div><div class="line">                                id: fpsItem</div><div class="line">                                width: 1</div><div class="line">                                height: 1</div><div class="line">                            }</div><div class="line">                        }</div><div class="line"></div><div class="line">                    }</div><div class="line"></div><div class="line">                }</div><div class="line"></div><div class="line"></div><div class="line">            }</div><div class="line"></div><div class="line"></div><div class="line">        }</div><div class="line">        Rectangle {</div><div class="line">            id: rect</div><div class="line">            Layout.margins: 5</div><div class="line">            Layout.fillHeight: true</div><div class="line">            width: 800</div><div class="line">            //            border.color: &quot;gray&quot;</div><div class="line">            //            color: &quot;cyan&quot;</div><div class="line">            GLChartFrame {</div><div class="line">                // All properties bellow are optional, see GLChartFrame all properties &amp; default values.</div><div class="line">                id: glChartFrame</div><div class="line">                anchors.fill: parent</div><div class="line">                anchors.margins: 30</div><div class="line">                anchors.topMargin: 0</div><div class="line">                leftMargin: 100</div><div class="line">                topMargin: 80</div><div class="line"></div><div class="line">                // General Properties</div><div class="line">                useGrid: cbUseGrid.checked</div><div class="line">                yLabelDecimalPlaces: 2</div><div class="line">                xLabelDecimalPlaces: 3</div><div class="line">                xLabelSuffix: &quot;%&quot;</div><div class="line">                yLabelSuffix: &quot;$&quot;</div><div class="line">                majorXCount: spinGridHMajor.value</div><div class="line">                majorYCount: spinGridVMajor.value</div><div class="line">                minorPerMajor: spinGridHMinor.value</div><div class="line">                majorColor: colorDialogMajor.currentColor</div><div class="line">                minorColor: colorDialogMinor.currentColor</div><div class="line">                backgroundColor: colorDialog.currentColor</div><div class="line">                backgroundOpacity: colorDialog.currentAlpha</div><div class="line">                xTitle: &quot;This is X Axis&quot;</div><div class="line">                yTitle: &quot;Frequency Channel&quot;</div><div class="line">                xTitlePosY: glChartFrame.height + 10</div><div class="line">                yTitlePosX: -15</div><div class="line"></div><div class="line">                // Mouse Properties</div><div class="line">                selectViewMouseButton: Qt.RightButton</div><div class="line">                selectPointsMouseButton: Qt.LeftButton // Disable Select by passing the &quot;Qt.NoButton&quot;</div><div class="line"></div><div class="line">                // FBO Properties (ChartScene)</div><div class="line">                minX: spinMinX.value</div><div class="line">                minY: spinMinY.value</div><div class="line">                maxX: spinMaxX.value</div><div class="line">                maxY: spinMaxY.value</div><div class="line">                velocityCoefficient: 0.91</div><div class="line">                limitView: false</div><div class="line">                panMouseButton: Qt.MiddleButton</div><div class="line">                autoScalePolicy: cboxAutoScale.autoScalePolicy</div><div class="line">                fitWindow: cboxFitWindow.checked</div><div class="line"></div><div class="line">                // ToolTip Properties</div><div class="line">                toolTipEnable: cbToolTip.checked</div><div class="line">                toolTipAxisColor: &quot;grey&quot;</div><div class="line">                toolTipCenterDotColor: &quot;orange&quot;</div><div class="line">                toolTipBoxColor: &quot;white&quot;</div><div class="line">                toolTipBoxBorderColor: &quot;blue&quot;</div><div class="line">                toolTipBoxRadius: 4</div><div class="line">                toolTipTextColor: &quot;black&quot;</div><div class="line">                toolTipTextSplitter: &quot;\n&quot;</div><div class="line">                toolTipFont: Qt.font({pixelSize: 12, bold: true})</div><div class="line"></div><div class="line">                GLSeriesItem {</div><div class="line">                    id: series0</div><div class="line">                    series: series0Ptr // Required Property, See main.cpp for more details.</div><div class="line">                    // Optional Properties &amp; Online, see &#39;PropertySeries.h&#39; for more details &amp; default values.</div><div class="line">                    visible: true</div><div class="line">                    type: GL.SeriesTypeScatter</div><div class="line">                    colorType: GL.MixBasePointColor</div><div class="line">                    name: &quot;Series 0&quot;</div><div class="line">                    color: &quot;red&quot;</div><div class="line">                    markerSize: 7</div><div class="line">                    markerShape: GL.ShapeSquare</div><div class="line">                    markerIconUrl: &quot;:/images/targetPressed.png&quot;</div><div class="line">                    seriesXSorted: true</div><div class="line">                    seriesYSorted: true</div><div class="line">                }</div><div class="line">                GLSeriesItem {</div><div class="line">                    id: series1</div><div class="line">                    series: series1Ptr // Required Property, See main.cpp for more details.</div><div class="line">                    // Optional Properties &amp; Online, see &#39;PropertySeries.h&#39; for more details &amp; default values.</div><div class="line">                    visible: true</div><div class="line">                    type: GL.SeriesTypeLine</div><div class="line">                    colorType: GL.OnlyBaseColor</div><div class="line">                    name: &quot;Series 1&quot;</div><div class="line">                    color: &quot;green&quot;</div><div class="line">                    markerSize: 7</div><div class="line">                    markerShape: GL.ShapeCircle</div><div class="line">                    markerIconUrl: &quot;&quot;</div><div class="line">                    seriesXSorted: true</div><div class="line">                    seriesYSorted: true</div><div class="line"></div><div class="line">                }</div><div class="line">                GLSeriesItem {</div><div class="line">                    id: series2</div><div class="line">                    series: series2Ptr // Required Property, See main.cpp for more details.</div><div class="line">                    // Optional Properties &amp; Online, see &#39;PropertySeries.h&#39; for more details &amp; default values.</div><div class="line">                    visible: true</div><div class="line">                    type: GL.SeriesTypeArea</div><div class="line">                    colorType: GL.OnlyPointColor</div><div class="line">                    name: &quot;Series 2&quot;</div><div class="line">                    color: &quot;blue&quot;</div><div class="line">                    markerSize: 7</div><div class="line">                    markerShape: GL.ShapeSquare</div><div class="line">                    markerIconUrl: &quot;&quot;</div><div class="line">                    seriesXSorted: true</div><div class="line">                    seriesYSorted: true</div><div class="line">                }</div><div class="line">                GLLegend {</div><div class="line">                    id: legend</div><div class="line">                    chart: glChartFrame.chart</div><div class="line">                    visible: true</div><div class="line">                    flow: Flow.LeftToRight</div><div class="line">                    spacing: 20</div><div class="line">//                    anchors.topMargin: 20</div><div class="line">                    alignment: Qt.AlignHCenter | Qt.AlignTop</div><div class="line">                }</div><div class="line">                GLChartVerticalLineItem {</div><div class="line">                    position: 350</div><div class="line">                    color: &quot;yellow&quot;</div><div class="line">                    lineStyle: Qt.DashDotDotLine</div><div class="line">//                    lineWidth: 2.0</div><div class="line">                }</div><div class="line">                GLChartVerticalLineItem {</div><div class="line">                    position: 300</div><div class="line">                    color: &quot;purple&quot;</div><div class="line">                    lineStyle: GL.DashLine</div><div class="line">                }</div><div class="line">                GLChartVerticalLineItem {</div><div class="line">                    position: 200</div><div class="line">                    color: &quot;cyan&quot;</div><div class="line">                    lineStyle: GL.DotLine</div><div class="line">                    lineWidth: 2</div><div class="line">                    fixItem: false</div><div class="line">                }</div><div class="line">                GLChartVerticalLineItem {</div><div class="line">                    id: lineItem1</div><div class="line">                    position: 100</div><div class="line">                    color: &quot;pink&quot;</div><div class="line">                    lineStyle: GL.DashDotLine</div><div class="line">                }</div><div class="line">                GLChartHorizontalLineItem {</div><div class="line">                    id: lineItem</div><div class="line">                    position: 10</div><div class="line">                    color: &quot;orange&quot;</div><div class="line">                    lineStyle: GL.DashDotDotLine</div><div class="line">                    lineWidth: 5</div><div class="line">                }</div><div class="line">                GLChartVerticalGateItem {</div><div class="line">                    id: gateItem1</div><div class="line">                    from: 40</div><div class="line">                    to: 80</div><div class="line">                    color: &quot;purple&quot;</div><div class="line">                    image: &quot;qrc:/images/upHovered.png&quot;</div><div class="line">                    useImage: true</div><div class="line">//                    gradient:   LinearGradient {</div><div class="line">//                        anchors.fill: parent</div><div class="line">//                        start: Qt.point(0, 0)</div><div class="line">//                        end: Qt.point(0, 300)</div><div class="line">//                        gradient: Gradient {</div><div class="line">//                            GradientStop { position: 0.0; color: &quot;white&quot; }</div><div class="line">//                            GradientStop { position: 1.0; color: &quot;black&quot; }</div><div class="line">//                        }</div><div class="line">//                    }</div><div class="line"></div><div class="line">                    z: -0.001</div><div class="line">                }</div><div class="line">                GLChartHorizontalGateItem {</div><div class="line">                    id: gateItem</div><div class="line">                    from: 40</div><div class="line">                    to: 80</div><div class="line">                    color: &quot;red&quot;</div><div class="line">                    lineStyle: GL.DotLine</div><div class="line">                    //                    z: 0.001</div><div class="line">                }</div><div class="line"></div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">    }</div><div class="line">    PropertyAnimation {</div><div class="line">        target: gateItem</div><div class="line">        property: &quot;color&quot;</div><div class="line">        from: &quot;red&quot;</div><div class="line">        to: &quot;green&quot;</div><div class="line">        duration: 1000</div><div class="line">        running: true</div><div class="line">        loops: Animation.Infinite</div><div class="line"></div><div class="line">    }</div><div class="line">    PropertyAnimation {</div><div class="line">        id: propAnim</div><div class="line">        target: lineItem</div><div class="line">        property: &quot;lineWidth&quot;</div><div class="line">        from: 1</div><div class="line">        to: 10</div><div class="line">        duration: 1000</div><div class="line">        running: true</div><div class="line">        loops: Animation.Infinite</div><div class="line"></div><div class="line">    }</div><div class="line">    PropertyAnimation {</div><div class="line">        target: lineItem1</div><div class="line">        property: &quot;position&quot;</div><div class="line">        from: glChartFrame.minX</div><div class="line">        to: glChartFrame.maxX</div><div class="line">        duration: 1000</div><div class="line">        running: true</div><div class="line">        loops: Animation.Infinite</div><div class="line"></div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">}</div></div><!-- fragment --><p> main.cpp </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;QGuiApplication&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;QQmlApplicationEngine&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;QSurfaceFormat&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;QQmlContext&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;QDebug&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;QThread&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;fps.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="GLChartview_8h.html">WeaChart/scenes/GLChartview.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;datasource.h&quot;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div><div class="line">{</div><div class="line"></div><div class="line">    QSurfaceFormat fmt;</div><div class="line">    fmt.setMajorVersion(4);</div><div class="line">    fmt.setMinorVersion(6);</div><div class="line">    fmt.setDepthBufferSize(24);</div><div class="line">    fmt.setSwapInterval(1);</div><div class="line">    fmt.setProfile(QSurfaceFormat::CoreProfile);</div><div class="line">    fmt.setRenderableType(QSurfaceFormat::OpenGL);</div><div class="line">    fmt.setSwapBehavior(QSurfaceFormat::DoubleBuffer);</div><div class="line"></div><div class="line">    QSurfaceFormat::setDefaultFormat(fmt);</div><div class="line">    QSurfaceFormat curFmt = QSurfaceFormat::defaultFormat();</div><div class="line"></div><div class="line"><span class="preprocessor">    #if QT_VERSION &lt; QT_VERSION_CHECK(6, 0, 0)</span></div><div class="line">        QCoreApplication::setAttribute(Qt::AA_EnableHighDpiScaling);</div><div class="line"><span class="preprocessor">    #endif</span></div><div class="line"></div><div class="line">    QGuiApplication app(argc, argv);</div><div class="line"></div><div class="line">    qputenv(<span class="stringliteral">&quot;QT_ASSUME_STDERR_HAS_CONSOLE&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div><div class="line">    qputenv(<span class="stringliteral">&quot;QSG_RENDER_LOOP&quot;</span>, <span class="stringliteral">&quot;basic&quot;</span>);</div><div class="line"><span class="comment">//    qputenv(&quot;QSG_INFO&quot;, &quot;1&quot;);</span></div><div class="line">    qInfo() &lt;&lt; <span class="stringliteral">&quot;Surface Format: &quot;</span></div><div class="line">            &lt;&lt; curFmt.renderableType()</div><div class="line">            &lt;&lt; curFmt.majorVersion()</div><div class="line">            &lt;&lt; curFmt.minorVersion()</div><div class="line">            &lt;&lt; curFmt.profile()</div><div class="line">            &lt;&lt; curFmt.swapInterval();</div><div class="line"></div><div class="line">    qmlRegisterType&lt;Fps&gt;(<span class="stringliteral">&quot;CustomItems&quot;</span>, 1, 0, <span class="stringliteral">&quot;Fps&quot;</span>);</div><div class="line"></div><div class="line">    QQmlApplicationEngine engine;</div><div class="line">    <span class="keyword">const</span> QUrl url(QStringLiteral(<span class="stringliteral">&quot;qrc:/main.qml&quot;</span>));</div><div class="line">    QObject::connect(&amp;engine, &amp;QQmlApplicationEngine::objectCreated,</div><div class="line">        &amp;app, [url](QObject *obj, <span class="keyword">const</span> QUrl &amp;objUrl) {</div><div class="line">            <span class="keywordflow">if</span> (!obj &amp;&amp; url == objUrl)</div><div class="line">                QCoreApplication::exit(-1);</div><div class="line">        }, Qt::QueuedConnection);</div><div class="line"></div><div class="line">    <a class="code" href="classGLChartView.html#a55b90c2fecb33541460bf561ae8f4365">GLChartView::registerMetaTypes</a>(&amp;engine);</div><div class="line">    DataSource dataSource;</div><div class="line"></div><div class="line">    engine.rootContext()-&gt;setContextProperty(<span class="stringliteral">&quot;series0Ptr&quot;</span>, dataSource.series0);</div><div class="line">    engine.rootContext()-&gt;setContextProperty(<span class="stringliteral">&quot;series1Ptr&quot;</span>, dataSource.series1);</div><div class="line">    engine.rootContext()-&gt;setContextProperty(<span class="stringliteral">&quot;series2Ptr&quot;</span>, dataSource.series2);</div><div class="line"></div><div class="line">    engine.load(url);</div><div class="line">    <span class="keywordflow">return</span> app.exec();</div><div class="line"></div><div class="line">}</div></div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
